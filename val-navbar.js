(()=>{"use strict";class e{createImg(){const e=document.createElement("img");return e.src="img/esercises.svg",e.alt="",e}createMenu(){const e=document.createDocumentFragment(),t=document.createElement("ul");t.classList.add("list");let i=[Object.assign(document.createElement("span"),{textContent:"STUDENTE"}),Object.assign(document.createElement("a"),{textContent:"Svolgi",href:"/svolgi-esercizi",id:"svolgi-esercizi-link"}),Object.assign(document.createElement("a"),{textContent:"Correzioni",href:"/correzioni",id:"correzioni-link"}),Object.assign(document.createElement("span"),{textContent:"DOCENTE"}),Object.assign(document.createElement("a"),{textContent:"Inserisci nuovo",href:"/inserisci-esercizio",id:"inserisci-esercizio-link"})];i.forEach((e=>{t.appendChild(e)}));const o=document.createElement("div");o.classList.add("contents"),o.textContent="Matieniti allenato con numerosi esercizi con soluzione presenti sul sito, oppure aiutaci ad ampliare le risorse presenti!",o.setAttribute("data-current","esercizi"),e.appendChild(t),e.appendChild(o),i=i.filter((e=>"A"===e.tagName));let n={"svolgi-esercizi-link":"Allenati tra le centinaia di open cloze, word formations, filling the gaps e molto altro","correzioni-link":"Impara dai tuoi sbagli in esercizi passati. Gli errori ti rendono più forte.","inserisci-esercizio-link":"Aiutaci a creare un archivio sempre più ricco di materiale e qualità."};return i.forEach((e=>{e.addEventListener("mouseenter",(function(){o.getAttribute("data-current")!==e.id&&(o.setAttribute("data-current",e.id),o.style.opacity=0,o.textContent=n[e.id],gsap.from(o,{y:"+=20",duration:.4}),gsap.to(o,{opacity:1,y:0,duration:.4}))}))})),e}render(){const e=document.createElement("div");return e.classList.add("dropdown-container","dropdown__esercizi"),e.style.display="none",e.appendChild(this.createMenu()),e.appendChild(this.createImg()),e}}class t{constructor(e,t,i){this.host=i,this.target=e,this.dropdown=t,this.dropdownParent=this.dropdown.closest(".dropdown"),this.divider=this.dropdownParent.previousElementSibling,this.otherLinks=this.divider.previousElementSibling.querySelectorAll("ul a")}enterToDropdown(){this.dropdown.classList.contains("active")||(this.dropdown.classList.add("active"),this.dropdownParent.style.display="block",this.dropdownParent.style.borderBottom="1px solid rgba(0, 0, 0, 0.15)",this.divider.classList.add("active"),this.dropdown.style.display="flex",gsap.from(this.dropdown,{y:"+=10",duration:.4}),gsap.to(this.dropdown,{opacity:1,duration:.4}))}exitFromDropdown(){this.dropdownParent.style.display="none",this.dropdownParent.style.borderBottom="0",this.host.classList.contains("fixed")||this.divider.classList.remove("active"),this.dropdown.style.display="none",this.dropdown.style.opacity="0",this.dropdown.classList.remove("active")}listen(){this.target.addEventListener("mouseenter",this.enterToDropdown.bind(this)),this.otherLinks.forEach((e=>{e.onmouseenter=this.exitFromDropdown.bind(this)})),this.host.onmouseout=this.exitFromDropdown.bind(this)}}class i{render(){const e=document.createElement("div");return e.classList.add("links"),[Object.assign(document.createElement("div"),{innerHTML:'\n          <span>Esercizi</span>\n          <a href="/svolgi-esercizi">Svolgi</a>           \n          <a href="/correzioni">Correzioni</a>           \n          <a href="/aggiungi-esercizio">Aggiungi nuovo</a>           \n        '}),Object.assign(document.createElement("a"),{textContent:"Drive",href:"/drive"}),Object.assign(document.createElement("a"),{textContent:"Forum",href:"/forum"}),Object.assign(document.createElement("a"),{textContent:"Cerca",href:"/ricerca"}),Object.assign(document.createElement("a"),{textContent:"Login",href:"/login"})].forEach((t=>{e.appendChild(t)})),e}}class o extends HTMLElement{constructor(){super(),this.TABLET_BREAKPOINT=window.matchMedia("(max-width: 1200px)"),this.PAGE_HEIGHT=window.innerHeight}async connectedCallback(){const e=this.attachShadow({mode:"open"}),t=document.createElement("nav");t.setAttribute("class","navbar"),this.createReponsiveNavbar(t);const i=document.createElement("div");i.setAttribute("class","dropdown"),this.createReponsiveDropdown(i);const o=document.createElement("div");o.classList.add("line","active");const n=document.createElement("style");n.textContent='.links,a{text-decoration:none}:host{display:block;font-family:Poppins,sans-serif;font-size:16px;width:100%;position:absolute;top:0;left:0;z-index:9999}.dropdown,.links li,.navbar{position:relative}*{font-family:inherit;padding:0;margin:0;box-sizing:border-box}::selection{background-color:#2715fb;color:#fff}.line,.navbar{background-color:#fff}a{color:inherit}.navbar{width:100%;max-width:1390px;display:flex;flex-wrap:wrap;justify-content:space-between;align-items:center;min-height:3.75em;margin:0 auto;padding:clamp(24px,3.8vw,58px) 60px 10px}.logo svg{height:3em}.links{list-style:none;font-size:inherit}.links li{display:inline}.links li>:first-child{display:inline-flex;margin-right:52px;cursor:pointer}.links li:last-child>:first-child{margin-right:0}.links li:not(.nav-login)>:first-child::after{content:"";display:block;width:calc(100% - 52px);height:2px;background-color:#2715fb;position:absolute;left:0;bottom:-6px;max-width:0;transition:max-width .3s}.links li:not(.nav-login)>:first-child:hover::after{max-width:calc(100% - 52px)}.links .nav-login a{padding:.75em 3em;background-color:#2715fb;border:1px solid #2715fb;color:#fff;transition:background-color .3s,color .3s}.links .nav-login a:hover{background-color:transparent;color:#2715fb}.nav-cerca a:hover,.nav-drive a:hover,.nav-forum a:hover{cursor:url(img/cursor-open.svg),pointer}.line{width:100%;height:1px}.line.active{background-color:rgba(0,0,0,.15)}.dropdown{width:100%;height:fit-content;display:none;background-color:#fff}.dropdown .dropdown-container{top:0;left:0;width:100%;padding-top:3.2em;padding-bottom:4em;padding-left:max(calc(12em + (100vw - 1390px)/ 2),12em);padding-right:max(calc(12em + (100vw - 1390px)/ 2),12em)}.dropdown .dropdown__esercizi{display:flex;align-items:start;justify-content:space-between;gap:6em;background-color:#fff;opacity:0}.dropdown .dropdown__esercizi>.list{display:flex;flex-direction:column}.dropdown .dropdown__esercizi>.list a{display:block;width:fit-content;color:gray;position:relative;transition:color .3s;padding:.35em 0}.dropdown .dropdown__esercizi>.list a:hover{color:#000}.dropdown .dropdown__esercizi>.list a::after{content:"";display:block;width:100%;height:2px;background-color:#000;position:absolute;left:0;bottom:.1em;max-width:0;transition:max-width .3s}.dropdown .dropdown__esercizi>.list a:hover::after{max-width:100%}.dropdown .dropdown__esercizi>.list span{font-size:.625em;color:#707070;letter-spacing:1.5px;font-weight:300;display:block;margin-bottom:.2em}.dropdown .dropdown__esercizi>ul span:nth-of-type(2){margin-top:1.6em}.dropdown .dropdown__esercizi>.contents{flex:1;padding-top:.2em}.dropdown .dropdown__esercizi>img{height:10em;width:auto}@media (max-width:1200px){.logo svg{height:2em}}@media (max-width:768px){.navbar{padding:0 48px}}@media (max-width:576px){.navbar{padding:0 24px}}.navbar .burger{padding:1em 0 1em 1em}.navbar .burger span{display:block;height:2px;width:1.5em;background-color:#000}.navbar .burger span:nth-child(2){margin-top:.225em}.dropdown .links{display:flex;gap:1em;font-size:1.2em;padding:5em 0;flex-direction:column;align-items:center;opacity:0}.dropdown .links>div{display:flex;flex-direction:column;align-items:center;gap:.5em}.dropdown .links>div a{font-size:.8em;color:#707070}',e.appendChild(n),e.appendChild(t),e.appendChild(o),e.appendChild(i),this.addEventListeners()}addEventListeners(){this.navbarHeight=this.shadowRoot.querySelector(".navbar").clientHeight+10;let e=-1;const i=function(){window.scrollY>this.navbarHeight?0!==e&&(e=0,this.setNavbarFixed()):1!==e&&(e=1,this.setNavbarAbsolute())}.bind(this);i(),window.addEventListener("scroll",i),this.shadowRoot.host.addEventListener("wheel",(e=>{e.preventDefault(),e.stopPropagation()})),this.TABLET_BREAKPOINT.matches?this.shadowRoot.querySelector(".burger").addEventListener("click",(()=>{const e=this.shadowRoot.querySelector(".dropdown"),t=e.querySelector(".links");e.classList.contains("active")?gsap.to(e,{opacity:0,y:"+=10",duration:.2,onComplete:function(){e.style.display="none",e.style.borderBottom="0",gsap.to(e,{opacity:1,y:0,duration:0})}}):(e.style.display="block",e.style.borderBottom="1px solid rgba(0, 0, 0, 0.15)",gsap.to(t,{opacity:1,duration:.4}),gsap.from(t,{y:"+=10",duration:.3})),e.classList.toggle("active")})):new t(this.shadowRoot.querySelector(".nav-esercizi span"),this.shadowRoot.querySelector(".dropdown__esercizi"),this.shadowRoot.host).listen(),window.addEventListener("resize",(()=>window.location.reload()))}setNavbarFixed(){this.shadowRoot.host.style.position="fixed",this.shadowRoot.host.style.top="0",this.shadowRoot.host.style.left="0",this.shadowRoot.host.classList.add("fixed"),this.shadowRoot.querySelector(".navbar").style.paddingTop=window.matchMedia("(max-width: 768px)").matches?"0px":"10px";const e={top:"-="+this.navbarHeight,duration:.3,delay:.2};gsap.from(this.shadowRoot.host,e),this.shadowRoot.querySelector(".line").classList.add("active")}setNavbarAbsolute(){this.shadowRoot.host.style.position="absolute",this.shadowRoot.querySelector(".navbar").style.paddingTop="clamp(24px, 3.8vw, 58px)",this.shadowRoot.querySelector(".line").classList.remove("active"),this.shadowRoot.host.classList.remove("fixed")}createReponsiveDropdown(t){this.TABLET_BREAKPOINT.matches?t.appendChild((new i).render()):t.appendChild((new e).render())}createReponsiveNavbar(e){const t=document.createElement("a");if(t.href="/",t.classList.add("logo"),t.innerHTML='<img src="img/logo.png" height="55"/>',e.appendChild(t),this.TABLET_BREAKPOINT.matches){const t=this.createBurger();t.style.cursor="pointer",e.appendChild(t)}else{const t=this.createLinks();e.appendChild(t)}}createLinks(){const e=document.createElement("ul");e.classList.add("links");const t=[Object.assign(document.createElement("span"),{textContent:"Esercizi"}),Object.assign(document.createElement("a"),{textContent:"Drive",href:"/drive"}),Object.assign(document.createElement("a"),{textContent:"Forum",href:"/forum"}),Object.assign(document.createElement("a"),{textContent:"Cerca",href:"/ricerca"}),Object.assign(document.createElement("a"),{textContent:"Login",href:"/login"})];for(const i of t){const t=i.textContent,o=document.createElement("li");o.classList.add("nav-"+t.toLowerCase()),o.appendChild(i),e.appendChild(o)}return e}createBurger(){const e=document.createElement("div");return e.setAttribute("class","burger"),e.appendChild(Object.assign(document.createElement("span"),{classList:"upper_line"})),e.appendChild(Object.assign(document.createElement("span"),{classList:"lower_line"})),e}}window.customElements.define("val-navbar",o)})();